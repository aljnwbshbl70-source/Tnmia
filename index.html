<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ù†ØµØ© Ø§Ù„ØªØ¯Ø§ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© | Pro Trader AI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Kufi+Arabic:wght@300;600;800&display=swap');
        body { font-family: 'Noto Kufi Arabic', sans-serif; background: #05070a; color: #e2e8f0; margin: 0; }
        .glass-panel { background: rgba(13, 17, 23, 0.9); backdrop-filter: blur(12px); border: 1px solid #1e293b; }
        .asset-row { transition: all 0.2s; border-bottom: 1px solid #1e293b; }
        .asset-row:hover { background: rgba(30, 41, 59, 0.5); }
        .notification { position: fixed; top: 20px; right: 20px; z-index: 1000; animation: slideIn 0.3s ease-out; }
        @keyframes slideIn { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-thumb { background: #334155; border-radius: 10px; }
        .category-btn.active { background: #3b82f6; color: white; }
    </style>
</head>
<body class="p-4 md:p-6 lg:p-8">

    <!-- Notification Toast Container -->
    <div id="notification-container"></div>

    <!-- Top Dashboard -->
    <div class="max-w-[1600px] mx-auto grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4 mb-6">
        <div class="glass-panel p-5 rounded-3xl border-b-4 border-b-blue-500">
            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider block mb-1">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù†Ù‚Ø¯ÙŠ</span>
            <div class="flex items-baseline gap-2">
                <span id="cash" class="text-2xl font-black text-white">250,000</span>
                <span class="text-xs text-blue-500 font-bold">USD</span>
            </div>
        </div>
        <div class="glass-panel p-5 rounded-3xl border-b-4 border-b-emerald-500">
            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider block mb-1">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©</span>
            <div id="net-worth" class="text-2xl font-black text-emerald-400">250,000</div>
        </div>
        <div class="glass-panel p-5 rounded-3xl border-b-4 border-b-amber-500">
            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider block mb-1">Ø§Ù„Ø£Ø±Ø¨Ø§Ø­ / Ø§Ù„Ø®Ø³Ø§Ø¦Ø±</span>
            <div id="pnl" class="text-2xl font-black text-white">0.00%</div>
        </div>
        <div class="glass-panel p-5 rounded-3xl border-b-4 border-b-slate-500">
            <span class="text-[10px] text-slate-500 font-bold uppercase tracking-wider block mb-1">Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ù…Ø­Ø§ÙƒÙŠ</span>
            <div id="day-display" class="text-2xl font-black text-white">1</div>
        </div>
        <button onclick="nextTurn()" id="update-btn" class="col-span-2 lg:col-span-1 bg-blue-600 hover:bg-blue-500 text-white rounded-3xl font-bold flex items-center justify-center gap-3 transition-all active:scale-95 shadow-xl">
            <span>ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙˆÙ‚</span>
            <span class="text-xl">ğŸš€</span>
        </button>
    </div>

    <div class="max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">
        
        <!-- Left Sidebar: Filters & Portfolio Summary -->
        <div class="lg:col-span-3 space-y-6">
            <div class="glass-panel p-6 rounded-[2rem]">
                <h3 class="text-xs font-black text-slate-500 mb-4 uppercase">Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</h3>
                <div class="flex flex-col gap-2">
                    <button onclick="filterAssets('all')" class="category-btn active text-right px-4 py-3 rounded-2xl text-sm font-bold transition-all">Ø§Ù„ÙƒÙ„</button>
                    <button onclick="filterAssets('forex')" class="category-btn text-right px-4 py-3 rounded-2xl text-sm font-bold transition-all">Ø§Ù„Ø¹Ù…Ù„Ø§Øª (Forex)</button>
                    <button onclick="filterAssets('commodities')" class="category-btn text-right px-4 py-3 rounded-2xl text-sm font-bold transition-all">Ø§Ù„Ø³Ù„Ø¹ (Commodities)</button>
                    <button onclick="filterAssets('indices')" class="category-btn text-right px-4 py-3 rounded-2xl text-sm font-bold transition-all">Ø§Ù„Ù…Ø¤Ø´Ø±Ø§Øª (Indices)</button>
                    <button onclick="filterAssets('crypto')" class="category-btn text-right px-4 py-3 rounded-2xl text-sm font-bold transition-all">Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©</button>
                    <button onclick="filterAssets('stocks')" class="category-btn text-right px-4 py-3 rounded-2xl text-sm font-bold transition-all">Ø§Ù„Ø£Ø³Ù‡Ù… Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ©</button>
                </div>
            </div>

            <div class="glass-panel p-6 rounded-[2rem]">
                <h3 class="text-xs font-black text-slate-500 mb-4 uppercase text-right">Ù…Ø­ÙØ¸ØªÙƒ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
                <div id="my-portfolio" class="space-y-3 max-h-60 overflow-y-auto custom-scroll text-right">
                    <!-- My Assets here -->
                </div>
            </div>
        </div>

        <!-- Center: Market Table -->
        <div class="lg:col-span-6 space-y-6">
            <div class="glass-panel rounded-[2rem] overflow-hidden">
                <div class="p-6 border-b border-slate-800 flex justify-between items-center">
                    <h2 class="text-xl font-black">Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø³ÙˆÙ‚ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</h2>
                    <div id="market-status" class="text-[10px] px-3 py-1 bg-emerald-500/10 text-emerald-500 rounded-full font-bold uppercase tracking-widest">LIVE AI FEED</div>
                </div>
                <div class="overflow-x-auto">
                    <table class="w-full text-right">
                        <thead>
                            <tr class="bg-slate-900/50 text-[10px] text-slate-500 uppercase">
                                <th class="p-4">Ø§Ù„Ø£ØµÙ„</th>
                                <th class="p-4 text-center">Ø§Ù„Ø³Ø¹Ø±</th>
                                <th class="p-4 text-center">Ø§Ù„ØªØºÙŠÙŠØ±</th>
                                <th class="p-4 text-left">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡</th>
                            </tr>
                        </thead>
                        <tbody id="market-body" class="text-sm">
                            <!-- JS Assets -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Right Sidebar: AI & Log -->
        <div class="lg:col-span-3 space-y-6">
            <div id="ai-news" class="glass-panel p-6 rounded-[2rem] border-l-4 border-l-blue-500">
                <div class="flex items-center gap-2 mb-3">
                    <span class="text-blue-500 animate-pulse text-xl">ğŸ’</span>
                    <span class="text-[10px] font-black text-blue-500 uppercase tracking-widest">ØªØ­Ù„ÙŠÙ„Ø§Øª Gemini AI</span>
                </div>
                <h4 id="news-title" class="font-bold mb-2">ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§ÙØªØªØ§Ø­</h4>
                <p id="news-text" class="text-xs text-slate-400 leading-relaxed italic">Ù‚Ù… Ø¨Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø³ÙˆÙ‚ Ù„Ø±Ø¨Ø· Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­ÙŠØ© Ø¨Ù…ÙØªØ§Ø­ Ø§Ù„Ù€ API Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ.</p>
            </div>

            <div class="glass-panel p-6 rounded-[2rem] h-80 flex flex-col">
                <h3 class="text-xs font-black text-slate-500 mb-4 uppercase">Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ Ù„Ù„Ø«Ø±ÙˆØ©</h3>
                <div class="flex-1 w-full">
                    <canvas id="growthChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- API & Market Configuration ---
        const apiKey = "AIzaSyCPPFOmFRiMdFbDqFrerS3JbhT4uvkRKL4"; // ØªÙ… Ø¥Ø¯Ø±Ø§Ø¬ Ù…ÙØªØ§Ø­Ùƒ Ù‡Ù†Ø§
        
        const categories = {
            forex: [
                { id: 'USD', name: 'Ø§Ù„Ø¯ÙˆÙ„Ø§Ø± Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠ', symbol: 'USD/Index', price: 104.20, cat: 'forex' },
                { id: 'EUR', name: 'Ø§Ù„ÙŠÙˆØ±Ùˆ', symbol: 'EUR/USD', price: 1.08, cat: 'forex' },
                { id: 'JPY', name: 'Ø§Ù„ÙŠÙ† Ø§Ù„ÙŠØ§Ø¨Ø§Ù†ÙŠ', symbol: 'USD/JPY', price: 150.45, cat: 'forex' },
                { id: 'GBP', name: 'Ø§Ù„Ø¬Ù†ÙŠÙ‡ Ø§Ù„Ø§Ø³ØªØ±Ù„ÙŠÙ†ÙŠ', symbol: 'GBP/USD', price: 1.26, cat: 'forex' }
            ],
            commodities: [
                { id: 'XAU', name: 'Ø§Ù„Ø°Ù‡Ø¨', symbol: 'XAU/USD', price: 2350, cat: 'commodities' },
                { id: 'XAG', name: 'Ø§Ù„ÙØ¶Ø©', symbol: 'XAG/USD', price: 28.50, cat: 'commodities' },
                { id: 'OIL', name: 'Ø§Ù„Ù†ÙØ· Ø§Ù„Ø®Ø§Ù…', symbol: 'WTI', price: 82.10, cat: 'commodities' },
                { id: 'GAS', name: 'Ø§Ù„ØºØ§Ø² Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ', symbol: 'NG', price: 2.30, cat: 'commodities' }
            ],
            indices: [
                { id: 'SPX', name: 'S&P 500', symbol: 'SPX', price: 5100, cat: 'indices' },
                { id: 'DJIA', name: 'Ø¯Ø§Ùˆ Ø¬ÙˆÙ†Ø²', symbol: 'DJI', price: 39100, cat: 'indices' },
                { id: 'NDX', name: 'Ù†Ø§Ø²Ø¯Ø§Ùƒ 100', symbol: 'IXIC', price: 18200, cat: 'indices' },
                { id: 'FTSE', name: 'Ù…Ø¤Ø´Ø± Ù„Ù†Ø¯Ù†', symbol: 'FTSE', price: 7600, cat: 'indices' }
            ],
            crypto: [
                { id: 'BTC', name: 'Ø¨ÙŠØªÙƒÙˆÙŠÙ†', symbol: 'BTC', price: 68000, cat: 'crypto' },
                { id: 'ETH', name: 'Ø¥ÙŠØ«ÙŠØ±ÙŠÙˆÙ…', symbol: 'ETH', price: 3500, cat: 'crypto' },
                { id: 'XRP', name: 'Ø±ÙŠØ¨Ù„', symbol: 'XRP', price: 0.62, cat: 'crypto' },
                { id: 'USDT', name: 'ØªÙŠØ°Ø±', symbol: 'USDT', price: 1.00, cat: 'crypto' }
            ],
            stocks: [
                { id: 'AAPL', name: 'Ø£Ø¨Ù„', symbol: 'AAPL', price: 185, cat: 'stocks' },
                { id: 'MSFT', name: 'Ù…Ø§ÙŠÙƒØ±ÙˆØ³ÙˆÙØª', symbol: 'MSFT', price: 415, cat: 'stocks' },
                { id: 'TSLA', name: 'ØªØ³Ù„Ø§', symbol: 'TSLA', price: 175, cat: 'stocks' },
                { id: 'BABA', name: 'Ø¹Ù„ÙŠ Ø¨Ø§Ø¨Ø§', symbol: 'BABA', price: 72, cat: 'stocks' },
                { id: 'AMZN', name: 'Ø£Ù…Ø§Ø²ÙˆÙ†', symbol: 'AMZN', price: 178, cat: 'stocks' },
                { id: 'KO', name: 'ÙƒÙˆÙƒØ§ÙƒÙˆÙ„Ø§', symbol: 'KO', price: 60, cat: 'stocks' },
                { id: 'NKE', name: 'Ù†Ø§ÙŠÙƒÙŠ', symbol: 'NKE', price: 100, cat: 'stocks' }
            ]
        };

        let currentFilter = 'all';
        let day = 1;
        let cash = 250000;
        let portfolio = {}; 
        let historyData = [250000];
        let labels = [1];
        let marketData = Object.values(categories).flat().map(a => ({...a, prevPrice: a.price}));

        // --- Chart Init ---
        const ctx = document.getElementById('growthChart').getContext('2d');
        const growthChart = new Chart(ctx, {
            type: 'line',
            data: { labels: labels, datasets: [{ data: historyData, borderColor: '#3b82f6', fill: true, tension: 0.4, backgroundColor: 'rgba(59,130,246,0.1)', pointRadius: 0 }] },
            options: { responsive: true, maintainAspectRatio: false, scales: { x: { display: false }, y: { display: false } }, plugins: { legend: { display: false } } }
        });

        // --- Functions ---

        function showNotification(title, message, type = 'success') {
            const container = document.getElementById('notification-container');
            const toast = document.createElement('div');
            toast.className = `notification p-4 rounded-2xl shadow-2xl glass-panel border-r-4 ${type === 'success' ? 'border-r-emerald-500' : 'border-r-red-500'} w-80`;
            toast.innerHTML = `
                <div class="flex flex-col">
                    <span class="text-xs font-black ${type === 'success' ? 'text-emerald-500' : 'text-red-500'} mb-1">${title}</span>
                    <p class="text-[11px] text-slate-300 leading-tight">${message}</p>
                </div>
            `;
            container.appendChild(toast);
            setTimeout(() => {
                toast.style.opacity = '0';
                setTimeout(() => toast.remove(), 300);
            }, 5000);
        }

        function renderMarket() {
            const tbody = document.getElementById('market-body');
            tbody.innerHTML = '';
            const filtered = currentFilter === 'all' ? marketData : marketData.filter(a => a.cat === currentFilter);

            filtered.forEach(asset => {
                const change = ((asset.price / asset.prevPrice - 1) * 100).toFixed(2);
                const color = change >= 0 ? 'text-emerald-500' : 'text-red-500';
                
                const row = document.createElement('tr');
                row.className = 'asset-row';
                row.innerHTML = `
                    <td class="p-4">
                        <div class="font-bold">${asset.name}</div>
                        <div class="text-[10px] text-slate-500 font-mono">${asset.symbol}</div>
                    </td>
                    <td class="p-4 text-center font-mono font-bold">${asset.price.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2})}</td>
                    <td class="p-4 text-center font-bold ${color}">${change > 0 ? '+' : ''}${change}%</td>
                    <td class="p-4 text-left">
                        <div class="flex gap-1 justify-end">
                            <button onclick="trade('${asset.id}', 'buy')" class="bg-emerald-600/20 text-emerald-500 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-emerald-600 hover:text-white transition-all">Ø´Ø±Ø§Ø¡</button>
                            <button onclick="trade('${asset.id}', 'sell')" class="bg-red-600/20 text-red-500 px-3 py-1.5 rounded-lg text-xs font-bold hover:bg-red-600 hover:text-white transition-all">Ø¨ÙŠØ¹</button>
                        </div>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function trade(assetId, action) {
            const asset = marketData.find(a => a.id === assetId);
            const price = asset.price;

            if (action === 'buy') {
                const spend = cash * 0.20; // Ø´Ø±Ø§Ø¡ Ø¨Ù€ 20% Ù…Ù† Ø§Ù„Ø³ÙŠÙˆÙ„Ø©
                if (cash >= spend) {
                    const qty = spend / price;
                    cash -= spend;
                    if (!portfolio[assetId]) portfolio[assetId] = { qty: 0, avgPrice: 0 };
                    portfolio[assetId].avgPrice = ((portfolio[assetId].avgPrice * portfolio[assetId].qty) + spend) / (portfolio[assetId].qty + qty);
                    portfolio[assetId].qty += qty;
                    
                    showNotification("ØªØ£ÙƒÙŠØ¯ Ø´Ø±Ø§Ø¡ âœ…", 
                        `ØªÙ… Ø´Ø±Ø§Ø¡ ${asset.name} Ø¨Ø³Ø¹Ø± ${price.toLocaleString()}. Ù„Ø¯ÙŠÙƒ Ø§Ù„Ø¢Ù† ${portfolio[assetId].qty.toFixed(4)} Ù…Ù† ${asset.name}.`);
                } else {
                    showNotification("Ø³ÙŠÙˆÙ„Ø© ØºÙŠØ± ÙƒØ§ÙÙŠØ© âŒ", "Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø±ØµÙŠØ¯Ùƒ Ø§Ù„Ù†Ù‚Ø¯ÙŠ Ù„Ø§ ÙŠÙƒÙÙŠ Ù„Ø¥ØªÙ…Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©.", "error");
                }
            } else {
                if (portfolio[assetId] && portfolio[assetId].qty > 0) {
                    const gain = portfolio[assetId].qty * price;
                    const oldQty = portfolio[assetId].qty;
                    cash += gain;
                    portfolio[assetId].qty = 0;
                    
                    showNotification("ØªØ£ÙƒÙŠØ¯ Ø¨ÙŠØ¹ ğŸ’°", 
                        `ØªÙ… Ø¨ÙŠØ¹ Ù…Ø®Ø²ÙˆÙ†Ùƒ Ù…Ù† ${asset.name} Ø¨Ø§Ù„ÙƒØ§Ù…Ù„ (${oldQty.toFixed(4)}) Ø¨Ø³Ø¹Ø± ${price.toLocaleString()}. Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø©: ${gain.toLocaleString()} $`);
                } else {
                    showNotification("ÙØ´Ù„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© âŒ", "Ù„Ø§ ØªÙ…ØªÙ„Ùƒ Ø±ØµÙŠØ¯Ø§Ù‹ Ù…Ù† Ù‡Ø°Ø§ Ø§Ù„Ø£ØµÙ„ Ù„Ø¨ÙŠØ¹Ù‡.", "error");
                }
            }
            updateStats();
            renderPortfolio();
        }

        function updateStats() {
            let assetValue = 0;
            Object.keys(portfolio).forEach(id => {
                const asset = marketData.find(a => a.id === id);
                assetValue += portfolio[id].qty * asset.price;
            });
            const netWorth = cash + assetValue;
            const pnl = ((netWorth / 250000 - 1) * 100).toFixed(2);

            document.getElementById('cash').innerText = Math.floor(cash).toLocaleString();
            document.getElementById('net-worth').innerText = Math.floor(netWorth).toLocaleString();
            document.getElementById('pnl').innerText = `${pnl >= 0 ? '+' : ''}${pnl}%`;
            document.getElementById('pnl').className = `text-2xl font-black ${pnl >= 0 ? 'text-emerald-400' : 'text-red-400'}`;
            document.getElementById('day-display').innerText = day;

            historyData.push(netWorth);
            labels.push(day);
            growthChart.update();
        }

        function renderPortfolio() {
            const container = document.getElementById('my-portfolio');
            container.innerHTML = '';
            Object.keys(portfolio).forEach(id => {
                if (portfolio[id].qty > 0) {
                    const asset = marketData.find(a => a.id === id);
                    const val = portfolio[id].qty * asset.price;
                    const pnl = ((asset.price / portfolio[id].avgPrice - 1) * 100).toFixed(1);
                    container.innerHTML += `
                        <div class="bg-white/5 p-3 rounded-xl border border-white/5">
                            <div class="flex justify-between text-[11px] mb-1">
                                <span class="font-bold">${asset.name}</span>
                                <span class="${pnl >= 0 ? 'text-emerald-400' : 'text-red-400'}">${pnl > 0 ? '+' : ''}${pnl}%</span>
                            </div>
                            <div class="flex justify-between items-baseline">
                                <span class="text-[9px] text-slate-500">${portfolio[id].qty.toFixed(4)} ÙˆØ­Ø¯Ø©</span>
                                <span class="text-xs font-mono font-bold">${val.toLocaleString(undefined, {maximumFractionDigits:0})} $</span>
                            </div>
                        </div>
                    `;
                }
            });
        }

        async function nextTurn() {
            const btn = document.getElementById('update-btn');
            btn.disabled = true;
            btn.classList.add('opacity-50');
            
            day++;
            const news = await fetchAINews();
            
            marketData.forEach(asset => {
                asset.prevPrice = asset.price;
                const aiFactor = (news.trends[asset.cat] || 0);
                const randomFactor = (Math.random() * 4 - 2); // ØªØ°Ø¨Ø°Ø¨ Ø·Ø¨ÙŠØ¹ÙŠ Ø¨Ø³ÙŠØ·
                asset.price *= (1 + (aiFactor + randomFactor) / 100);
            });

            document.getElementById('news-title').innerText = news.title;
            document.getElementById('news-text').innerText = news.text;
            
            renderMarket();
            updateStats();
            renderPortfolio();

            btn.disabled = false;
            btn.classList.remove('opacity-50');
        }

        async function fetchAINews() {
            const prompt = `Economic Simulation Day: ${day}. Portfolio: Forex, Commodities, Indices, Crypto, Stocks.
            Generate realistic global news and market trends.
            Output JSON: {"title": "Short Arabic Title", "text": "Arabic description of global events", "trends": {"forex": -5to5, "commodities": -5to5, "indices": -5to5, "crypto": -10to10, "stocks": -5to5}}`;
            
            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }], generationConfig: { responseMimeType: "application/json" } })
                });
                const data = await response.json();
                return JSON.parse(data.candidates[0].content.parts[0].text);
            } catch (e) {
                console.error("API Error:", e);
                return { title: "ØªØ°Ø¨Ø°Ø¨ Ø¹Ø±Ø¶ÙŠ", text: 